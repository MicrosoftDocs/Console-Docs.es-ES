---
title: Funciones de entrada y salida de la consola de alto nivel
description: Las funciones ReadFile y WriteFile, o las funciones ReadConsole y WriteConsole, permiten que una aplicación Lea la entrada de la consola y escriba la salida de la consola como un flujo de caracteres.
author: miniksa
ms.author: miniksa
ms.topic: article
keywords: consola, aplicaciones de modo de carácter, aplicaciones de línea de comandos, aplicaciones de terminal, API de consola
MS-HAID:
- '\_win32\_high\_level\_console\_input\_and\_output\_functions'
- base.high\_level\_console\_input\_and\_output\_functions
- consoles.high\_level\_console\_input\_and\_output\_functions
MSHAttr:
- PreferredSiteName:MSDN
- PreferredLib:/library/windows/desktop
ms.assetid: 086b1bec-85f8-4e31-848d-7cb2d2703a3d
ms.openlocfilehash: d6e13edf9350fcff812ad02b2d9116c3fe132154
ms.sourcegitcommit: b75f4688e080d300b80c552d0711fdd86b9974bf
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/24/2020
ms.locfileid: "89060625"
---
# <a name="high-level-console-input-and-output-functions"></a><span data-ttu-id="1261c-104">Funciones de entrada y salida de la consola de alto nivel</span><span class="sxs-lookup"><span data-stu-id="1261c-104">High-Level Console Input and Output Functions</span></span>


<span data-ttu-id="1261c-105">Las funciones [**readfile**](https://msdn.microsoft.com/library/windows/desktop/aa365467) y [**WriteFile**](https://msdn.microsoft.com/library/windows/desktop/aa365747) , o las funciones [**ReadConsole**](readconsole.md) y [**WriteConsole**](writeconsole.md) , permiten que una aplicación Lea la entrada de la consola y escriba la salida de la consola como un flujo de caracteres.</span><span class="sxs-lookup"><span data-stu-id="1261c-105">The [**ReadFile**](https://msdn.microsoft.com/library/windows/desktop/aa365467) and [**WriteFile**](https://msdn.microsoft.com/library/windows/desktop/aa365747) functions, or the [**ReadConsole**](readconsole.md) and [**WriteConsole**](writeconsole.md) functions, enable an application to read console input and write console output as a stream of characters.</span></span> <span data-ttu-id="1261c-106">**ReadConsole** y **WriteConsole** se comportan exactamente igual que **readfile** y **WriteFile** , salvo que se pueden usar como funciones de caracteres anchos (en las que los argumentos de texto deben usar Unicode) o como funciones ANSI (en las que los argumentos de texto deben usar caracteres del juego de caracteres de Windows).</span><span class="sxs-lookup"><span data-stu-id="1261c-106">**ReadConsole** and **WriteConsole** behave exactly like **ReadFile** and **WriteFile** except that they can be used either as wide-character functions (in which text arguments must use Unicode) or as ANSI functions (in which text arguments must use characters from the Windows character set).</span></span> <span data-ttu-id="1261c-107">Las aplicaciones que necesitan mantener un único conjunto de orígenes para admitir Unicode o el juego de caracteres ANSI deben usar **ReadConsole** y **WriteConsole**.</span><span class="sxs-lookup"><span data-stu-id="1261c-107">Applications that need to maintain a single set of sources to support either Unicode or the ANSI character set should use **ReadConsole** and **WriteConsole**.</span></span>

<span data-ttu-id="1261c-108">[**ReadConsole**](readconsole.md) y [**WriteConsole**](writeconsole.md) solo se pueden usar con los identificadores de consola; [**Readfile**](https://msdn.microsoft.com/library/windows/desktop/aa365467) y [**WriteFile**](https://msdn.microsoft.com/library/windows/desktop/aa365747) se pueden usar con otros identificadores (como archivos o canalizaciones).</span><span class="sxs-lookup"><span data-stu-id="1261c-108">[**ReadConsole**](readconsole.md) and [**WriteConsole**](writeconsole.md) can only be used with console handles; [**ReadFile**](https://msdn.microsoft.com/library/windows/desktop/aa365467) and [**WriteFile**](https://msdn.microsoft.com/library/windows/desktop/aa365747) can be used with other handles (such as files or pipes).</span></span> <span data-ttu-id="1261c-109">**ReadConsole** y **WriteConsole** generan un error si se usan con un identificador estándar que se ha redirigido y ya no es un controlador de consola.</span><span class="sxs-lookup"><span data-stu-id="1261c-109">**ReadConsole** and **WriteConsole** fail if used with a standard handle that has been redirected and is no longer a console handle.</span></span>

<span data-ttu-id="1261c-110">Para obtener la entrada mediante teclado, un proceso puede usar [**readfile**](https://msdn.microsoft.com/library/windows/desktop/aa365467) o [**ReadConsole**](readconsole.md) con un identificador para el búfer de entrada de la consola, o puede usar **readfile** para leer la entrada de un archivo o una canalización si se ha redirigido stdin.</span><span class="sxs-lookup"><span data-stu-id="1261c-110">To get keyboard input, a process can use [**ReadFile**](https://msdn.microsoft.com/library/windows/desktop/aa365467) or [**ReadConsole**](readconsole.md) with a handle to the console's input buffer, or it can use **ReadFile** to read input from a file or a pipe if STDIN has been redirected.</span></span> <span data-ttu-id="1261c-111">Estas funciones solo devuelven eventos de teclado que se pueden traducir en caracteres ANSI (o caracteres Unicode en el caso de **ReadConsole**).</span><span class="sxs-lookup"><span data-stu-id="1261c-111">These functions only return keyboard events that can be translated into ANSI characters (or Unicode characters in the case of **ReadConsole**).</span></span> <span data-ttu-id="1261c-112">La entrada que se puede devolver incluye combinaciones de teclas de control.</span><span class="sxs-lookup"><span data-stu-id="1261c-112">The input that can be returned includes control key combinations.</span></span> <span data-ttu-id="1261c-113">Las funciones no devuelven eventos de teclado que impliquen las teclas de función o las teclas de dirección.</span><span class="sxs-lookup"><span data-stu-id="1261c-113">The functions do not return keyboard events involving the function keys or arrow keys.</span></span> <span data-ttu-id="1261c-114">Los eventos de entrada generados por el mouse, la ventana, el foco o la entrada de menú se descartan.</span><span class="sxs-lookup"><span data-stu-id="1261c-114">Input events generated by mouse, window, focus, or menu input are discarded.</span></span>

<span data-ttu-id="1261c-115">Si está habilitado el modo de entrada de línea (el modo predeterminado), [**readfile**](https://msdn.microsoft.com/library/windows/desktop/aa365467) y [**ReadConsole**](readconsole.md) no vuelven a la aplicación que realiza la llamada hasta que se presiona la tecla entrar.</span><span class="sxs-lookup"><span data-stu-id="1261c-115">If line input mode is enabled (the default mode), [**ReadFile**](https://msdn.microsoft.com/library/windows/desktop/aa365467) and [**ReadConsole**](readconsole.md) do not return to the calling application until the ENTER key is pressed.</span></span> <span data-ttu-id="1261c-116">Si el modo de entrada de línea está deshabilitado, las funciones no devuelven hasta que al menos un carácter esté disponible.</span><span class="sxs-lookup"><span data-stu-id="1261c-116">If line input mode is disabled, the functions do not return until at least one character is available.</span></span> <span data-ttu-id="1261c-117">En cualquier modo, se leen todos los caracteres disponibles hasta que no haya más claves disponibles o se haya leído el número especificado de caracteres.</span><span class="sxs-lookup"><span data-stu-id="1261c-117">In either mode, all available characters are read until either no more keys are available or the specified number of characters has been read.</span></span> <span data-ttu-id="1261c-118">Los caracteres no leídos se almacenan en búfer hasta la siguiente operación de lectura.</span><span class="sxs-lookup"><span data-stu-id="1261c-118">Unread characters are buffered until the next read operation.</span></span> <span data-ttu-id="1261c-119">Las funciones informan del número total de caracteres leídos realmente.</span><span class="sxs-lookup"><span data-stu-id="1261c-119">The functions report the total number of characters actually read.</span></span> <span data-ttu-id="1261c-120">Si el modo de entrada de eco está habilitado, los caracteres leídos por estas funciones se escriben en el búfer de pantalla activo en la posición actual del cursor.</span><span class="sxs-lookup"><span data-stu-id="1261c-120">If echo input mode is enabled, characters read by these functions are written to the active screen buffer at the current cursor position.</span></span>

<span data-ttu-id="1261c-121">Un proceso puede usar [**WriteFile**](https://msdn.microsoft.com/library/windows/desktop/aa365747) o **WriteConsole** para escribir en un búfer de pantalla activo o inactivo, o puede usar **WriteFile** para escribir en un archivo o una canalización si se ha redirigido stdout.</span><span class="sxs-lookup"><span data-stu-id="1261c-121">A process can use [**WriteFile**](https://msdn.microsoft.com/library/windows/desktop/aa365747) or **WriteConsole** to write to either an active or inactive screen buffer, or it can use **WriteFile** to write to a file or a pipe if STDOUT has been redirected.</span></span> <span data-ttu-id="1261c-122">El modo de salida procesado y el ajuste en el modo de salida EOL controlan la forma en que los caracteres se escriben o se repiten en un búfer de pantalla.</span><span class="sxs-lookup"><span data-stu-id="1261c-122">Processed output mode and wrap at EOL output mode control the way characters are written or echoed to a screen buffer.</span></span>

<span data-ttu-id="1261c-123">Los caracteres escritos por [**WriteFile**](https://msdn.microsoft.com/library/windows/desktop/aa365747) o [**WriteConsole**](writeconsole.md), o que se han devuelto por [**readfile**](https://msdn.microsoft.com/library/windows/desktop/aa365467) o [**ReadConsole**](readconsole.md), se insertan en un búfer de pantalla en la posición actual del cursor.</span><span class="sxs-lookup"><span data-stu-id="1261c-123">Characters written by [**WriteFile**](https://msdn.microsoft.com/library/windows/desktop/aa365747) or [**WriteConsole**](writeconsole.md), or echoed by [**ReadFile**](https://msdn.microsoft.com/library/windows/desktop/aa365467) or [**ReadConsole**](readconsole.md), are inserted in a screen buffer at the current cursor position.</span></span> <span data-ttu-id="1261c-124">A medida que se escribe cada carácter, la posición del cursor avanza hasta la siguiente celda de carácter; sin embargo, el comportamiento al final de una fila depende del ajuste del búfer de pantalla de la consola en el modo de salida EOL.</span><span class="sxs-lookup"><span data-stu-id="1261c-124">As each character is written, the cursor position advances to the next character cell; however, the behavior at the end of a row depends on the console screen buffer's wrap at EOL output mode.</span></span> <span data-ttu-id="1261c-125">Una aplicación puede usar la función [**GetConsoleScreenBufferInfo**](getconsolescreenbufferinfo.md) para determinar la posición actual del cursor y la función [**SetConsoleCursorPosition**](setconsolecursorposition.md) para establecer la posición del cursor.</span><span class="sxs-lookup"><span data-stu-id="1261c-125">An application can use the [**GetConsoleScreenBufferInfo**](getconsolescreenbufferinfo.md) function to determine the current cursor position and the [**SetConsoleCursorPosition**](setconsolecursorposition.md) function to set the cursor position.</span></span>

<span data-ttu-id="1261c-126">Para obtener un ejemplo en el que se usan las funciones de e/s de la consola de alto nivel, consulte [uso de las funciones de entrada y salida de alto nivel](using-the-high-level-input-and-output-functions.md).</span><span class="sxs-lookup"><span data-stu-id="1261c-126">For an example that uses the high-level console I/O functions, see [Using the High-Level Input and Output Functions](using-the-high-level-input-and-output-functions.md).</span></span>

 

 




