---
title: Desplazarse por el búfer de pantalla
description: Describe cómo la ventana de la consola muestra una parte del búfer de pantalla activo.
author: miniksa
ms.author: miniksa
ms.topic: conceptual
keywords: consola, aplicaciones de modo de carácter, aplicaciones de línea de comandos, aplicaciones de terminal, API de consola
MS-HAID:
- '\_win32\_scrolling\_the\_screen\_buffer'
- base.scrolling\_the\_screen\_buffer
- consoles.scrolling\_the\_screen\_buffer
MSHAttr:
- PreferredSiteName:MSDN
- PreferredLib:/library/windows/desktop
ms.assetid: c8404e78-9807-4bed-bc12-25377fa96151
ms.openlocfilehash: 4c55a40f43827deeacfd1302d507732ec9bcc248
ms.sourcegitcommit: 281eb1469f77ae4fb4c67806898e14eac440522a
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 02/14/2021
ms.locfileid: "100358665"
---
# <a name="scrolling-the-screen-buffer"></a><span data-ttu-id="2d04e-104">Desplazarse por el búfer de pantalla</span><span class="sxs-lookup"><span data-stu-id="2d04e-104">Scrolling the Screen Buffer</span></span>

[!INCLUDE [not-recommended-banner](./includes/not-recommended-banner.md)]

<span data-ttu-id="2d04e-105">La ventana de la consola muestra una parte del búfer de pantalla activo.</span><span class="sxs-lookup"><span data-stu-id="2d04e-105">The console window displays a portion of the active screen buffer.</span></span> <span data-ttu-id="2d04e-106">Cada búfer de pantalla mantiene su propio rectángulo de ventana actual que especifica las coordenadas de las celdas del carácter superior izquierda e inferior derecha que se mostrarán en la ventana de la consola.</span><span class="sxs-lookup"><span data-stu-id="2d04e-106">Each screen buffer maintains its own current window rectangle that specifies the coordinates of the upper left and lower right character cells to be displayed in the console window.</span></span> <span data-ttu-id="2d04e-107">Para determinar el rectángulo de ventana actual de un búfer de pantalla, use [**GetConsoleScreenBufferInfo**](getconsolescreenbufferinfo.md).</span><span class="sxs-lookup"><span data-stu-id="2d04e-107">To determine the current window rectangle of a screen buffer, use [**GetConsoleScreenBufferInfo**](getconsolescreenbufferinfo.md).</span></span> <span data-ttu-id="2d04e-108">Cuando se crea un búfer de pantalla, la esquina superior izquierda de su ventana se encuentra en la esquina superior izquierda del búfer de pantalla de la consola en (0,0).</span><span class="sxs-lookup"><span data-stu-id="2d04e-108">When a screen buffer is created, the upper left corner of its window is at the upper left corner of the console screen buffer at (0,0).</span></span>

<span data-ttu-id="2d04e-109">El rectángulo de la ventana puede cambiar para mostrar diferentes partes del búfer de pantalla de la consola.</span><span class="sxs-lookup"><span data-stu-id="2d04e-109">The window rectangle can change to display different parts of the console screen buffer.</span></span> <span data-ttu-id="2d04e-110">El rectángulo de ventana de un búfer de pantalla puede cambiar en las siguientes situaciones:</span><span class="sxs-lookup"><span data-stu-id="2d04e-110">The window rectangle of a screen buffer can change in the following situations:</span></span>

- <span data-ttu-id="2d04e-111">Cuando se llama a [**SetConsoleWindowInfo**](setconsolewindowinfo.md) para especificar un nuevo rectángulo de ventana, desplaza la vista del búfer de pantalla de la consola cambiando la posición del rectángulo de la ventana sin cambiar el tamaño de la ventana.</span><span class="sxs-lookup"><span data-stu-id="2d04e-111">When [**SetConsoleWindowInfo**](setconsolewindowinfo.md) is called to specify a new window rectangle, it scrolls the view of the console screen buffer by changing the position of the window rectangle without changing the size of the window.</span></span> <span data-ttu-id="2d04e-112">Para obtener ejemplos de Cómo desplazarse por el contenido de la ventana, vea [desplazarse por la ventana de un búfer de pantalla](scrolling-a-screen-buffer-s-window.md).</span><span class="sxs-lookup"><span data-stu-id="2d04e-112">For examples of scrolling the window's contents, see [Scrolling a Screen Buffer's Window](scrolling-a-screen-buffer-s-window.md).</span></span>

  ![movimiento panorámico de la ventana del búfer de pantalla alrededor del búfer grande](images/cscon-01.png)

- <span data-ttu-id="2d04e-114">Cuando se usa la función [**WriteFile**](/windows/win32/api/fileapi/nf-fileapi-writefile) para escribir en un búfer de pantalla con Wrap en el modo de salida de final de línea (EOL) habilitado, el rectángulo de la ventana se desplaza automáticamente, por lo que siempre se muestra el cursor.</span><span class="sxs-lookup"><span data-stu-id="2d04e-114">When using the [**WriteFile**](/windows/win32/api/fileapi/nf-fileapi-writefile) function to write to a screen buffer with wrap at end-of-line (EOL) output mode enabled, the window rectangle shifts automatically, so the cursor is always displayed.</span></span>
- <span data-ttu-id="2d04e-115">Cuando la función [**SetConsoleCursorPosition**](setconsolecursorposition.md) especifica una nueva posición del cursor que está fuera de los límites del rectángulo de la ventana actual, el rectángulo de la ventana se desplaza automáticamente para mostrar el cursor.</span><span class="sxs-lookup"><span data-stu-id="2d04e-115">When the [**SetConsoleCursorPosition**](setconsolecursorposition.md) function specifies a new cursor position that is outside the boundaries of the current window rectangle, the window rectangle shifts automatically to display the cursor.</span></span>
- <span data-ttu-id="2d04e-116">Cuando el usuario cambia el tamaño de la ventana de la consola o usa las barras de desplazamiento de la ventana, puede cambiar el rectángulo de la ventana del búfer de pantalla activo.</span><span class="sxs-lookup"><span data-stu-id="2d04e-116">When the user changes the size of the console window or uses the window's scroll bars, the window rectangle of the active screen buffer can change.</span></span> <span data-ttu-id="2d04e-117">Este cambio no se registra como un evento de cambio de tamaño de ventana en el búfer de entrada.</span><span class="sxs-lookup"><span data-stu-id="2d04e-117">This change is not reported as a window resizing event in the input buffer.</span></span>

<span data-ttu-id="2d04e-118">En cada una de estas situaciones, el rectángulo de la ventana se desplaza para mostrar una parte diferente del búfer de pantalla de la consola, pero el contenido del búfer de pantalla de la consola permanece en la misma posición.</span><span class="sxs-lookup"><span data-stu-id="2d04e-118">In each of these situations, the window rectangle shifts to display a different part of the console screen buffer, but the contents of the console screen buffer remain in the same position.</span></span> <span data-ttu-id="2d04e-119">Las siguientes situaciones pueden hacer que el contenido del búfer de la pantalla de la consola cambie:</span><span class="sxs-lookup"><span data-stu-id="2d04e-119">The following situations can cause the console screen buffer's contents to shift:</span></span>

- <span data-ttu-id="2d04e-120">Cuando se llama a la función [**ScrollConsoleScreenBuffer**](scrollconsolescreenbuffer.md) , se copia un bloque rectangular de una parte de un búfer de pantalla en otro.</span><span class="sxs-lookup"><span data-stu-id="2d04e-120">When the [**ScrollConsoleScreenBuffer**](scrollconsolescreenbuffer.md) function is called, a rectangular block is copied from one part of a screen buffer to another.</span></span>
- <span data-ttu-id="2d04e-121">Cuando se usa [**WriteFile**](/windows/win32/api/fileapi/nf-fileapi-writefile) para escribir en un búfer de pantalla con Wrap en el modo de salida EOL habilitado, el contenido del búfer de pantalla de la consola se desplaza automáticamente cuando se encuentra el final del búfer de pantalla de la consola.</span><span class="sxs-lookup"><span data-stu-id="2d04e-121">When using [**WriteFile**](/windows/win32/api/fileapi/nf-fileapi-writefile) to write to a screen buffer with wrap at EOL output mode enabled, the console screen buffer's contents scroll automatically when the end of the console screen buffer is encountered.</span></span> <span data-ttu-id="2d04e-122">Este desplazamiento descarta la fila superior del búfer de pantalla de la consola.</span><span class="sxs-lookup"><span data-stu-id="2d04e-122">This scrolling discards the top row of the console screen buffer.</span></span>

<span data-ttu-id="2d04e-123">[**ScrollConsoleScreenBuffer**](scrollconsolescreenbuffer.md) especifica el rectángulo del búfer de pantalla de la consola que se mueve y las nuevas coordenadas de la esquina superior izquierda en la que se copia el rectángulo.</span><span class="sxs-lookup"><span data-stu-id="2d04e-123">[**ScrollConsoleScreenBuffer**](scrollconsolescreenbuffer.md) specifies the console screen buffer rectangle that is moved and the new upper left coordinates to which the rectangle is copied.</span></span> <span data-ttu-id="2d04e-124">Esta función puede desplazar una parte o todo el contenido del búfer de pantalla de la consola.</span><span class="sxs-lookup"><span data-stu-id="2d04e-124">This function can scroll a portion or the entire contents of the console screen buffer.</span></span>

<span data-ttu-id="2d04e-125">En la ilustración se muestra una operación [**ScrollConsoleScreenBuffer**](scrollconsolescreenbuffer.md) que desplaza todo el contenido del búfer de la pantalla de la consola en varias filas.</span><span class="sxs-lookup"><span data-stu-id="2d04e-125">The illustration shows a [**ScrollConsoleScreenBuffer**](scrollconsolescreenbuffer.md) operation that scrolls the entire contents of the console screen buffer up by several rows.</span></span> <span data-ttu-id="2d04e-126">Se descartan los contenidos de las primeras filas y las filas inferiores se rellenan con el carácter y el color especificados.</span><span class="sxs-lookup"><span data-stu-id="2d04e-126">The contents of the top rows are discarded, and the bottom rows are filled with a specified character and color.</span></span>

![desplazar el contenido de la ventana del búfer de pantalla hacia arriba para descartar](images/cscon-02.png)

<span data-ttu-id="2d04e-128">Los efectos de [**ScrollConsoleScreenBuffer**](scrollconsolescreenbuffer.md) se pueden limitar especificando un rectángulo de recorte opcional para que el contenido del búfer de pantalla de la consola fuera del rectángulo de recorte no se modifique.</span><span class="sxs-lookup"><span data-stu-id="2d04e-128">The effects of [**ScrollConsoleScreenBuffer**](scrollconsolescreenbuffer.md) can be limited by specifying an optional clipping rectangle so that the contents of the console screen buffer outside the clipping rectangle are unchanged.</span></span> <span data-ttu-id="2d04e-129">El efecto del recorte es crear una subventana (el rectángulo de recorte) cuyo contenido se desplaza sin afectar al resto del búfer de la pantalla de la consola.</span><span class="sxs-lookup"><span data-stu-id="2d04e-129">The effect of clipping is to create a subwindow (the clipping rectangle) whose contents are scrolled without affecting the rest of the console screen buffer.</span></span> <span data-ttu-id="2d04e-130">Para obtener un ejemplo en el que se usa **ScrollConsoleScreenBuffer**, vea [desplazarse por el contenido de un búfer de pantalla](scrolling-a-screen-buffer-s-contents.md).</span><span class="sxs-lookup"><span data-stu-id="2d04e-130">For an example that uses **ScrollConsoleScreenBuffer**, see [Scrolling a Screen Buffer's Contents](scrolling-a-screen-buffer-s-contents.md).</span></span>